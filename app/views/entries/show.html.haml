%p#notice= notice

%h1= @blog.title

%p
  %strong Title:
  = @entry.title

%p
  %strong Body:
  = @entry.body

= link_to 'Edit', [:edit, @blog, @entry]
\|
= link_to 'Back', @blog

%br

%h2 Listing Comments

%table
  %thead
    %tr
      %th Body
      %th{colspan: 2}

  %tbody
    - @comments.each do |comment|
      %tr
        %td= approved_comment?(comment) ? comment.body : '(承認待ち)'
        %td= approved_comment?(comment) ? '' : link_to('Approve', approve_blog_entry_comment_path(@blog, @entry, comment), method: :patch)
        %td= link_to 'Destroy', [@blog, @entry, comment], method: :delete, data: { confirm: 'Are you sure?' }

%br

%h2 New comment

= render 'comments/form', blog: @blog, entry: @entry, comment: @comment
